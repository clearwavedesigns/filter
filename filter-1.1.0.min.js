/*
 Filter v1.1.0
 (c) 2015 Clearwave Designs, LLC. http://clearwavedesigns.com
 License: Apache 2.0
*/
 
 function Filter(t,r){for(var t=t,e=/[\-\[\]\/\{\}\(\)\*\+\?\:\.\\\^\$\|]/g,i=function(r){if(r.filter&&/\S+/.test(r.filter)){for(var i=r.filter.split(/\s+/),s=[],n=0,a=i.length;a>n;n++){var f=i[n].replace(e,"\\$&"),o=r.caseSensitive?"":"i";s[n]=new RegExp(f,o)}for(var l=function(t){for(var r=!0,e=0,n=i.length;n>e&&r;e++)for(var a=0,f=s.length;f>a;a++)if(!s[a].test(t)){r=!1;break}return r},h=[],n=0,a=t.length;a>n;n++){if(r.paths){var p=[];if(Array.isArray(r.paths))for(var g=0,v=r.paths.length;v>g;g++){for(var y=r.paths[g].split(/\./),c=t[n],u=0,S=y.length;S>u;u++)c.hasOwnProperty(y[u])&&(c=c[y[u]]);p.push("object"==typeof c?JSON.stringify(c):c)}else{for(var y=r.paths.split(/\./),c=t[n],g=0,v=y.length;v>g;g++)c.hasOwnProperty(y[g])&&(c=c[y[g]]);p.push("object"==typeof c?JSON.stringify(c):c)}for(var w=!1,g=0,v=p.length;v>g;g++)r.caseSensitive?(r.filter===p[g]||l(p[g]))&&(w=!0):(r.filter.toString().toLowerCase()===p[g].toString().toLowerCase()||l(p[g]))&&(w=!0)}else l(JSON.stringify(t[n]))&&(w=!0);w&&h.push(t[n])}t=h}},s=0,n=r.length;n>s;s++)i(r[s]);return t}
